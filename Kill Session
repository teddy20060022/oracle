SET PAGESIZE 1000
SELECT machine,
       NVL(active_count, 0) AS active,
       NVL(inactive_count, 0) AS inactive,
       NVL(killed_count, 0) AS killed,
	   SERVICE_NAME
FROM   (SELECT machine, status, SERVICE_NAME,count(*) AS quantity
        FROM   v$session
        GROUP BY machine, status,SERVICE_NAME)
PIVOT  (SUM(quantity) AS count FOR (status) IN ('ACTIVE' AS active, 'INACTIVE' AS inactive, 'KILLED' AS killed))
ORDER BY machine;


kill -9 ps -ef | grep LOCAL=NO | grep oracleOPBIBSD1  | grep -v grep | awk '{print $2}'

select 'ALTER SYSTEM KILL SESSION '''||sid||','||serial#||',@'||inst_id||''' IMMEDIATE;' FROM gv$session where username in ('SKYPROD'') AND status = 'INACTIVE' ;
